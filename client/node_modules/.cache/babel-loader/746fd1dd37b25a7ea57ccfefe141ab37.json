{"ast":null,"code":"var _jsxFileName = \"/home/dell/DSparty/redparty/client/src/components/Welcome/Welcome.js\";\nimport React, { useState } from 'react';\nimport { createConnection } from '../../utils/socket';\nimport { Container, Row, Col, Hidden } from 'react-grid-system';\nimport styled from 'styled-components';\nimport Topbar from '../common/Topbar';\nimport StartForm from './StartForm';\nimport FeatureBox from './FeatureBox';\nimport { Button } from '../common';\nimport { colors } from '../../config/colors';\nimport { getVideoId } from '../../utils/helper';\n\nfunction Welcome(props) {\n  // const [canRedirectToRoom, setRedirect] = useState(false);\n  let formEnd = null;\n  const [hostLoading, setHostLoading] = useState(false);\n\n  const scrollToForm = () => {\n    if (formEnd) {\n      formEnd.scrollIntoView({\n        behavior: 'smooth'\n      });\n    }\n  };\n\n  const onHost = async (username, videoUrl) => {\n    // use socket id as room address\n    setHostLoading(true);\n    const videoId = getVideoId(videoUrl);\n    const socket = await createConnection(username, null, videoId);\n    console.log(\"ddd\");\n    setHostLoading(false);\n    props.history.push({\n      pathname: `/room/${socket.id}`,\n      // socket.id === roomid\n      state: {\n        hostId: socket.id,\n        username,\n        videoId\n      },\n      socket\n    });\n  };\n\n  const onJoin = (username, joinUrl) => {\n    // TODO: Add verification for join url\n    const splitUrl = joinUrl.split('/');\n    const roomId = splitUrl[splitUrl.length - 1];\n    console.log(\"joinURL \", joinUrl);\n    props.history.push({\n      pathname: `/room/${roomId}`,\n      state: {\n        username,\n        joinUrl\n      }\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(Topbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 4\n    }\n  }), /*#__PURE__*/React.createElement(Container, {\n    fluid: true,\n    style: {\n      height: '92vh'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    style: {\n      paddingTop: '80px'\n    },\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Hidden, {\n    xs: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    xs: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  })), /*#__PURE__*/React.createElement(Col, {\n    xs: 12,\n    md: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(IntroMessage, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }, \"Host\", ' ', /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      color: colors.primaryColor\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 8\n    }\n  }, \"Youtube\"), ' ', \"Watch Party with Friends\"), /*#__PURE__*/React.createElement(Button, {\n    style: { ...styles.heroButton,\n      backgroundColor: '#2D9596'\n    },\n    onClick: scrollToForm,\n    primary: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }\n  }, \"Get Started\")), /*#__PURE__*/React.createElement(Col, {\n    xs: 12,\n    md: 5,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"hero-banner.svg\",\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }\n  })), /*#__PURE__*/React.createElement(Hidden, {\n    xs: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    xs: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }\n  }))), /*#__PURE__*/React.createElement(FeatureBox, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 5\n    }\n  })), /*#__PURE__*/React.createElement(Container, {\n    fluid: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    align: \"center\",\n    style: styles.formContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 6\n    }\n  }), /*#__PURE__*/React.createElement(StartForm, {\n    onHost: onHost,\n    onJoin: onJoin,\n    hostLoading: hostLoading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 6\n    }\n  }), /*#__PURE__*/React.createElement(Col, {\n    md: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 6\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dummy\",\n    ref: el => formEnd = el,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 6\n    }\n  }))));\n}\n\nconst IntroMessage = styled.h1`\n\tfont-weight: 500;\n\tmargin: 0;\n\tpadding: 0;\n\tfont-size: 2.5em;\n`;\nconst styles = {\n  formContainer: {\n    backgroundImage: 'linear-gradient(#f9f9f9, #fff)',\n    marginBottom: '40px',\n    zIndex: 10,\n    height: '100vh'\n  },\n  heroButton: {\n    margin: '15px 0',\n    minWidth: '200px',\n    padding: '15px 10px'\n  }\n};\nexport default Welcome;","map":{"version":3,"sources":["/home/dell/DSparty/redparty/client/src/components/Welcome/Welcome.js"],"names":["React","useState","createConnection","Container","Row","Col","Hidden","styled","Topbar","StartForm","FeatureBox","Button","colors","getVideoId","Welcome","props","formEnd","hostLoading","setHostLoading","scrollToForm","scrollIntoView","behavior","onHost","username","videoUrl","videoId","socket","console","log","history","push","pathname","id","state","hostId","onJoin","joinUrl","splitUrl","split","roomId","length","height","paddingTop","color","primaryColor","styles","heroButton","backgroundColor","formContainer","el","IntroMessage","h1","backgroundImage","marginBottom","zIndex","margin","minWidth","padding"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { createConnection } from '../../utils/socket';\nimport { Container, Row, Col, Hidden } from 'react-grid-system';\nimport styled from 'styled-components';\nimport Topbar from '../common/Topbar';\nimport StartForm from './StartForm';\nimport FeatureBox from './FeatureBox';\nimport { Button } from '../common';\nimport { colors } from '../../config/colors';\nimport { getVideoId } from '../../utils/helper';\n\nfunction Welcome(props) {\n\t// const [canRedirectToRoom, setRedirect] = useState(false);\n\tlet formEnd = null;\n\tconst [hostLoading, setHostLoading] = useState(false);\n\n\tconst scrollToForm = () => {\n\t\tif (formEnd) {\n\t\t\tformEnd.scrollIntoView({ behavior: 'smooth' });\n\t\t}\n\t};\n\n\tconst onHost = async (username, videoUrl) => {\n\t\t// use socket id as room address\n\t\tsetHostLoading(true);\n\t\tconst videoId = getVideoId(videoUrl);\n\t\tconst socket = await createConnection(username, null, videoId);\n\t\tconsole.log(\"ddd\")\n\t\tsetHostLoading(false);\n\n\t\tprops.history.push({\n\t\t\tpathname: `/room/${socket.id}`, // socket.id === roomid\n\t\t\tstate: { hostId: socket.id, username, videoId },\n\t\t\tsocket,\n\t\t});\n\t};\n\n\tconst onJoin = (username, joinUrl) => {\n\t\t// TODO: Add verification for join url\n\t\tconst splitUrl = joinUrl.split('/');\n\t\tconst roomId = splitUrl[splitUrl.length - 1];\n\t\tconsole.log(\"joinURL \",joinUrl)\n\t\tprops.history.push({\n\t\t\tpathname: `/room/${roomId}`,\n\t\t\tstate: { username , joinUrl },\n\t\t});\n\t};\n\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<Topbar />\n\t\t\t<Container fluid style={{ height: '92vh' }}>\n\t\t\t\t{/* topbar is 8vh in height, so (100 - 8) = 92 */}\n\t\t\t\t<Row style={{ paddingTop: '80px' }} align='center'>\n\t\t\t\t\t<Hidden xs>\n\t\t\t\t\t\t<Col xs={2}></Col>\n\t\t\t\t\t</Hidden>\n\n\t\t\t\t\t{/* --------- Intro Message -------- */}\n\t\t\t\t\t<Col xs={12} md={4}>\n\t\t\t\t\t\t<IntroMessage>\n\t\t\t\t\t\t\tHost{' '}\n\t\t\t\t\t\t\t<span style={{ color: colors.primaryColor }}>\n\t\t\t\t\t\t\t\tYoutube\n\t\t\t\t\t\t\t</span>{' '}\n\t\t\t\t\t\t\tWatch Party with Friends\n\t\t\t\t\t\t</IntroMessage>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tstyle={{ ...styles.heroButton, backgroundColor: '#2D9596' }}\n\t\t\t\t\t\t\tonClick={scrollToForm}\n\t\t\t\t\t\t\tprimary\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tGet Started\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Col>\n\n\t\t\t\t\t<Col xs={12} md={5}>\n\t\t\t\t\t\t<img src='hero-banner.svg' alt='' />\n\t\t\t\t\t</Col>\n\n\t\t\t\t\t<Hidden xs>\n\t\t\t\t\t\t<Col xs={2}></Col>\n\t\t\t\t\t</Hidden>\n\t\t\t\t</Row>\n\t\t\t\t<FeatureBox />\n\t\t\t</Container>\n\n\t\t\t<Container fluid>\n\t\t\t\t<Row align='center' style={styles.formContainer}>\n\t\t\t\t\t<Col md={2}></Col>\n\t\t\t\t\t<StartForm\n\t\t\t\t\t\tonHost={onHost}\n\t\t\t\t\t\tonJoin={onJoin}\n\t\t\t\t\t\thostLoading={hostLoading}\n\t\t\t\t\t/>\n\t\t\t\t\t<Col md={2}></Col>\n\t\t\t\t\t<div className='dummy' ref={(el) => (formEnd = el)}></div>\n\t\t\t\t</Row>\n\t\t\t</Container>\n\t\t</React.Fragment>\n\t);\n}\n\nconst IntroMessage = styled.h1`\n\tfont-weight: 500;\n\tmargin: 0;\n\tpadding: 0;\n\tfont-size: 2.5em;\n`;\n\nconst styles = {\n\tformContainer: {\n\t\tbackgroundImage: 'linear-gradient(#f9f9f9, #fff)',\n\t\tmarginBottom: '40px',\n\t\tzIndex: 10,\n\t\theight: '100vh',\n\t},\n\theroButton: {\n\t\tmargin: '15px 0',\n\t\tminWidth: '200px',\n\t\tpadding: '15px 10px',\n\t},\n};\n\nexport default Welcome;\n"]},"metadata":{},"sourceType":"module"}